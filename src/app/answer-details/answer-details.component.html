<div id="main">
  <body>
    <div id="form-container">
      <div class="card my-5">
        <div
          class="card-body form-inner-content"
          *ngIf="answer$ | async as model"
        >
        <div class="form-inner-content">
          <div style="display: inline-block;">
            <p class="status">
              {{ getPersonStatus() }}</p>
          </div>
          <div class="line">
            <button
            class="btn-custom btn-functional btn-return btn-top"
            (click)="refused()">
            <i class="fa fa-ban ban"></i>
              Atsisakė
            </button>
            <button
              class="btn-custom btn-functional btn-return btn-top"
              (click)="rejectApplication()">
              <i class="fa fa-times times"></i>
              Atmesti aplikaciją
            </button>
            <button
              class="btn-custom btn-functional btn-return btn-top"
              (click)="acceptApplication()">
              <i class="fa fa-check check"></i>
              Priimti aplikaciją
            </button>
          </div>
        </div>
        

        <div class="form-inner-content">
         

              <br />
              <p class="name">{{ model.person.name + " " + model.person.surname }}</p>
              <div class="phone">
                <div>
                  <i class="fa fa-volume-control-phone"></i>
                  <p class="fa information form-inner-content">{{ model.person.phone }}</p>
                </div>
                <div>
                  <p class="fa fa-paper-plane-o"></p>
                  <p class="fa information form-inner-content">{{ model.person.email }}</p>
                </div>
              </div>

<section>
           <div class="tit">Asmens duomenys</div>
                  <hr/>
                  <label class="question">
                    Mokymosi įstaiga, kurioje šiuo metu mokaisi:</label>
                  <div class="answer form-inner-content">{{ model.person.uni }}</div>
              <div *ngFor="let answer of model.answerList">
                <label class="question">
                  {{getFullQuestion(answer.questionId)}}</label>
                <div class="answer form-inner-content">
                  {{ getAnswer(answer.answer, answer.questionId) }}
                </div>
              </div>
</section>
            </div>
          <div class="both-form-container">
              <div class="form-inner-content">

                      <div class="tit">Asmens įvertinimas</div>
                    <hr/>
                <div class="form-container">
                  <form
                    [formGroup]="valuationForm"
                    (ngSubmit)="onSubmitValuation()"
                  >
                    <section>
                      <div class="row">
                        <div class="form-group column">
                          <label for="applicationValuation"
                            >Anketos vertinimas</label
                          >
                          <select
                            class="custom-select form-control"
                            (change)="changeApplicationValue($event)"
                            id="applicationValuation"
                            formControlName="applicationValuation"
                          >
                            <option value="">Pasirinkite įvertinimą</option>
                            <option
                              *ngFor="let applVal of applicationValues"
                              [value]="applVal.value"
                              >{{ applVal.value }}</option
                            >
                          </select>
                        </div>

                        <div class="form-group column">
                          <label for="testValuation">Testo vertinimas</label>
                          <select
                            class="custom-select form-control"
                            (change)="changeTestValue($event)"
                            id="testValuation"
                            formControlName="testValuation"
                          >
                            <option value="">Pasirinkite įvertinimą</option>
                            <option
                              *ngFor="let testVal of testValues"
                              [value]="testVal.value"
                              >{{ testVal.value }}</option
                            >
                          </select>
                        </div>

                        <div class="form-group column">
                          <label for="interviewValuation"
                            >Interviu vertinimas</label
                          >
                          <select
                            class="custom-select form-control"
                            (change)="changeInterviewValue($event)"
                            id="interviewValuation"
                            formControlName="interviewValuation"
                          >
                            <option value="">Pasirinkite įvertinimą</option>
                            <option
                              *ngFor="let interVal of interviewValues"
                              [value]="interVal.value"
                              >{{ interVal.value }}</option
                            >
                          </select>
                        </div>
                      </div>

                      <div class="form-group" [class.has-error]="notes.invalid">
                        <label for="notes">Pastabos</label>
                        <textarea
                          type="text"
                          class="form-control textarea-custom"
                          id="notes"
                          maxlength="1000"
                          autosize
                          formControlName="notes"
                        ></textarea>
                      </div>

                      <div
                        [hidden]="notes.valid || notes.untouched"
                        class="alert alert-danger"
                      >
                        <div *ngIf="notes.errors?.maxlength">
                          Pastaba per ilga
                        </div>
                      </div>

                      <button
                        class="btn-custom btn-confiramtion"
                        (click)="sendTest()"
                      >
                        Siųsti testą
                      </button>
                      <button
                        class="btn-custom btn-confiramtion"
                        (click)="inviteToInterview()"
                      >
                        Kviesti interviu
                      </button>
                    <button
                      type="submit"
                      class="btn-custom btn-return btn-confiramtion"
                      [disabled]="valuationForm.invalid"
                      (click)="valuationForm.valid ? show() : null"
                    >
                      Išsaugoti
                    </button>
                  </section>
                  </form>
              </div>
            </div>
          </div>
          <div>
          <hr/>
            <section>
              <div>
                <a class="nav-link btn-back" [routerLink]="'/list'">
                <i class="fa fa-angle-double-left nav-link btn-back arrows" [routerLink]="'/list'">
                </i>Atgal</a>
              </div>
              <div>
                <a class="nav-link btn-return" [routerLink]="['/details/', getNextApplicationId()]">
                <i class="fa fa-angle-double-right nav-link btn-return arrows" [routerLink]="['/details/', getNextApplicationId()]"></i>
                Kita pareiška</a>
              </div>
              <div>
                <a class="nav-link btn-return" [routerLink]="['/details/', getPrevApplicationId()]">
                <i class="fa fa-angle-double-left nav-link arrows" [routerLink]="['/details/', getPrevApplicationId()]">
                </i>Praeita pareiška</a>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
  </body>
</div>
